function cycleToNextImage(){var e=imageIds[currentImageIndex];currentImageIndex++,currentImageIndex>=imageIds.length&&(currentImageIndex=0);var a={duration:fadeSpeed,queue:!1};$("#"+e).fadeOut(a),$("#"+imageIds[currentImageIndex]).fadeIn(a)}var fadeSpeed,currentImageIndex=-1,imageIds=new Array,SCALING_MODE_NONE=0,SCALING_MODE_STRETCH=1,SCALING_MODE_COVER=2,SCALING_MODE_CONTAIN=3;$.fn.backgroundCycle=function(e){var a=$.extend({imageUrls:[],duration:5e3,fadeSpeed:1e3,backgroundSize:SCALING_MODE_NONE},e);fadeSpeed=a.fadeSpeed;var t=this.css("margin-top"),r=this.css("margin-right"),i=this.css("margin-bottom"),n=this.css("margin-left");this.is("body")||this.css({position:"relative"});var d=$(document.createElement("div")),s=this.children().detach();d.append(s),imageIds=new Array;for(var c=0;c<a.imageUrls.length;c++){var o,g="bgImage"+c,I=a.imageUrls[c],m="cycle-bg-image",u=$(document.createElement("div"));switch(u.attr("id",g),u.attr("class",m),a.backgroundSize){default:o=a.backgroundSize;break;case SCALING_MODE_NONE:o="auto";break;case SCALING_MODE_STRETCH:o="100% 100%";break;case SCALING_MODE_COVER:o="cover";break;case SCALING_MODE_CONTAIN:o="contain"}u.css({"background-image":"url('"+I+"')","background-repeat":"no-repeat","background-size":o,"background-position":"center","-moz-background-size":o,"-webkit-background-size":o,position:"absolute",left:n,top:t,right:r,bottom:i}),this.append(u),imageIds.push(g)}d.css({position:"absolute",left:n,top:t,right:r,bottom:i,overflow:"hidden"}),this.append(d),$(".cycle-bg-image").hide(),$("#"+imageIds[0]).show(),setInterval(cycleToNextImage,a.duration)};